:root{
  --bg:#0c0f13; --panel:#11161d; --soft:#151c25; --border:#1f2733;
  --text:#e7ecf5; --muted:#9fb0c8; --accent:#5b8cff; --accent2:#8a5bff;
}
*{box-sizing:border-box}
body{
  margin:0; background:#0c0f13; color:var(--text);
  font-family:Inter,system-ui; line-height:1.5;
}

/* Header */
.topbar{
  display:flex; justify-content:space-between; align-items:center;
  padding:14px; border-bottom:1px solid var(--border); background:rgba(14,16,21,.75); backdrop-filter:blur(8px);
}
.logo{width:170px}
.subtitle{color:var(--muted); font-size:13px}
.actions-bar{display:flex; gap:10px; align-items:center}

/* Controls */
.controls{
  display:flex; flex-wrap:wrap; gap:10px; justify-content:center; padding:14px;
  border-bottom:1px solid var(--border); background:#11161d;
}
.file,select,input,.btn{
  background:var(--soft); color:var(--text); border:1px solid var(--border);
  border-radius:12px; padding:9px 12px; font-size:14px; cursor:pointer;
}
.file{position:relative} .file input{position:absolute; inset:0; opacity:0}
.btn-accent{
  background:linear-gradient(90deg,var(--accent),var(--accent2)); border:none; color:#fff;
}
.btn-ghost{background:transparent; border:1px dashed var(--border); color:var(--muted)}

/* Tune */
.tune{display:flex; gap:15px; flex-wrap:wrap}
.range-val{
  padding:2px 6px; background:#0b1119; border:1px solid var(--border); border-radius:6px; font-size:12px;
}
input[type="range"]{accent-color:var(--accent)}

/* Preview */
.preview{display:grid; grid-template-columns:1fr 1fr; gap:15px; padding:15px}
.pane{background:var(--panel); padding:10px; border-radius:10px; border:1px solid var(--border)}
img,video{
  width:100%!important; max-height:65vh; object-fit:contain;
  background:#0b1119; border:1px solid #1e2531; border-radius:10px;
}

/* Progress */
.progress{
  position:relative; height:14px; border-radius:8px;
  background:#121821; border:1px solid var(--border); overflow:hidden; margin:10px auto; max-width:450px;
}
#bar{
  height:100%; width:0%; background:linear-gradient(90deg,var(--accent),var(--accent2));
  transition:width .25s;
}
#pctLabel{
  position:absolute; right:10px; top:50%; transform:translateY(-50%);
  font-size:12px; color:#d8e4ff;
}
#statusText{text-align:center; margin-top:6px; color:var(--muted)}

/* Overlay */
.overlay{
  position:fixed; inset:0; display:none; justify-content:center; align-items:center;
  flex-direction:column; background:rgba(0,0,0,.55); backdrop-filter:blur(3px);
}
.overlay.show{display:flex}
.spinner{
  width:48px;height:48px;border-radius:50%;
  border:4px solid rgba(255,255,255,.2); border-top-color:#fff; animation:spin 1s linear infinite;
}
@keyframes spin{to{transform:rotate(360deg)}}
.overlay-text{margin-top:10px; font-weight:600}
.overlay-pct{font-weight:700; margin-top:4px; color:#aecdff}

/* Toast */
.toast{
  position:fixed; bottom:16px; left:50%; transform:translateX(-50%);
  background:#fff; color:#000; padding:10px 14px; border-radius:8px; box-shadow:0 4px 14px rgba(0,0,0,.35);
}
.toast.error{background:#ffdbdb; color:#5d0000}
.toast.ok{background:#d4ffe6; color:#003d1e}

/* Footer */
.footer{
  text-align:center; padding:14px; border-top:1px solid var(--border); color:var(--muted);
}

/* Debug hidden normally */
.debug{padding:10px; font-size:13px; background:#210f12; color:#ffc9c9; border:1px dashed red; margin:10px}

/* Responsive */
@media(max-width:900px){.preview{grid-template-columns:1fr}}
[hidden]{display:none!important}
